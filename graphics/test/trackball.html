<!DOCTYPE html>
<html lang="en">
<head>
	<title>three.js control-trackball</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<script src="/public/js/three.min.js"></script>
	<script src="/public/js/Detector.js"></script>
	<script src="/public/js/controls/TrackballControls.js"></script>
	<style>
		body {
			color: #000;

			background-color: #000;
			margin: 0px; 
		}
	</style>
</head>
<body>
	<script>
	if(!Detector.webgl)Detector.addGetWebGLMessage();

	var container;

	var renderer, scene, camera, control;

	var ambient_light, directional_light,
	geometry, material, mesh;	

	var time = 0,
	clock = new THREE.Clock(  );

	init();
	animate();

	function init() {
		ambient_light = new THREE.AmbientLight( 0x555 );
		directional_light = new THREE.DirectionalLight( 0xfff, 1 );
		geometry = new THREE.SphereGeometry( 30, 32, 32 );
		material = new THREE.MeshBasicMaterial( {color: 0xaaaaaa, wireframe: true} );
		mesh = new THREE.Mesh( geometry, material);

		renderer = new THREE.WebGLRenderer( {
			antialias: true
		} );
		scene = new THREE.Scene();
		camera = new THREE.PerspectiveCamera( 60, window.innerWidth/window.innerHeight, 1, 1000 );

		camera.position.set(0, 40, 80);
		camera.lookAt(new THREE.Vector3( 0, 0, 0 ));

		//Setup control
		control = new THREE.TrackballControls( camera, renderer.documentElement );

		control.rotateSpeed= 1.0;
		control.zoomSpeed = 1.2;
		control.panSpeed = 1.0;

		control.noZoom = false;
		control.noPan = false;

		control.staticMoving = true;
		control.dynamicDampingFactor = 0.3;

		control.keys = [65, 83, 68]; //rotateKey, zoomKey, panKey

		control.addEventListener('change', render);

		scene.add(directional_light);
		scene.add(mesh);

		renderer.setSize(window.innerWidth, window.innerHeight);

		document.body.appendChild(renderer.domElement);

	}

	function animate() {
		requestAnimationFrame(animate);
		render();
	}

	function render() {
		var delta = clock.getDelta();
		// time += delta * 1.0 * 0.5;
		// control.update(delta);
		renderer.render(scene, camera);
	}

	</script>

</body>
</html>